import Vue from 'vue'
import { format } from 'date-fns'

<%_ if (enableTranslation) { _%>
import { enUS } from 'date-fns/locale'
<%_ }  _%>

export const DATE_FORMAT = 'yyyy-MM-dd'
export const DATE_TIME_FORMAT = 'yyyy-MM-dd HH:mm'

<%_ if (enableTranslation) { _%>
export const locales = { 
    enUS
}
<%_ }  _%>

export function initFilters() {
  Vue.filter('formatDate', function(value, language){
        
    if (value && language) { 
        return format(value, DATE_TIME_FORMAT, {locale: locales[language]});
    } else if (value) {
        <%_ if (enableTranslation) { _%>
        return format(value, DATE_TIME_FORMAT, { locale: locales[<%= nativeLanguage %>] });
        <%_ } else { _%>
        return format(value, DATE_TIME_FORMAT);
        <%_ }  _%>
    }
});
}

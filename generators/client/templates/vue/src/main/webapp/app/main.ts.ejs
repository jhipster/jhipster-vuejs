// The Vue build version to load with the `import` command
// (runtime-only or standalone) has been set in webpack.common with an alias.
import Vue from 'vue';
import {FontAwesomeIcon} from '@fortawesome/vue-fontawesome';
import {Modal, Pagination, Progress} from 'bootstrap-vue/es/components';
import App from './app.vue';
import router from './router';
import * as config from './shared/config';
import JhiItemCountComponent from './shared/jhi-item-count.vue';
import AuditsService from './components/admin/audits/audits.service';
import HealthService from './components/admin/health/health.service';
import LoginModalService from './components/account/login-modal.service';
import MetricsService from './components/admin/metrics/metrics.service';
import RegisterService from './components/account/register/register.service';

import 'bootstrap/dist/css/bootstrap.css';
import 'bootstrap-vue/dist/bootstrap-vue.css';
<%_ if (enableTranslation) { _%>
import TranslationService from '@/locale/translation.service';
<%_ } _%>
import UserManagementService from '@/components/admin/user-management/user-management.service';
import ConfigurationService from '@/components/admin/configuration/configuration.service';
<%_ if (applicationType === 'gateway' && serviceDiscoveryType) { %>
import GatewayService from '@/components/admin/gateway/gateway.service';
<%_ } %>
// jhipster-needle-add-entity-service-to-main-import - JHipster will import entities services here

const auditsService = new AuditsService();
const healthService = new HealthService();
const loginModalService = new LoginModalService();
const metricsService = new MetricsService();
<%_ if (enableTranslation) { _%>
const translationService = new TranslationService();
<%_ } _%>
const registerService = new RegisterService();
const userManagementService = new UserManagementService();
const configurationService = new ConfigurationService();
<%_ if (applicationType === 'gateway' && serviceDiscoveryType) { %>
const gatewayService = new GatewayService();
<%_ } %>
// jhipster-needle-add-entity-service-to-main-declaration - JHipster will declare entities services here

Vue.config.productionTip = false;

<%_ if (enableTranslation) { _%>
const i18n = config.initI18N(Vue);
<%_ } _%>
const store = config.initVueXStore(Vue);
config.initVueApp(Vue);
config.initBootstrapVue(Vue);
Vue.component('font-awesome-icon', FontAwesomeIcon);
Vue.component('jhi-item-count', JhiItemCountComponent);
Vue.use(Modal);
Vue.use(Pagination);
Vue.use(Progress);

/* eslint-disable no-new */
new Vue({
  el: '#app',
  components: { App },
  template: '<App/>',
  router,
  provide: {
    auditsService: () => auditsService,
    healthService: () => healthService,
    loginModalService: () => loginModalService,
    <%_ if (applicationType === 'gateway' && serviceDiscoveryType) { %>
    gatewayService: () => gatewayService,
    <%_ } %>
    configurationService: () => configurationService,
    metricsService: () => metricsService,
    registerService: () => registerService,
    <%_ if (enableTranslation) { _%>
    translationService: () => translationService,
    <%_ } _%>
    userService: () => userManagementService

    // jhipster-needle-add-entity-service-to-main - JHipster will import entities services here
  },
<%_ if (enableTranslation) { _%>    i18n,<%_ } _%>
  store
});
